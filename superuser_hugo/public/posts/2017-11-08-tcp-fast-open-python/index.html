<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>TCP Fast Open: In Action with Python | Superuser</title>
<meta name="keywords" content="">
<meta name="description" content="Recently I was revisiting concepts of TCP protocol and that reminded me that there was also a thing called TCP Fast Open. Digging further on the same revealed a lot. We will briefly discuss how this enhancement works. What are the limitations. And later we will do the hands on and see how the TCP Fast Open drastically reduces the load time.
What is TCP Fast Open? TCP Fast Open is an optimization over TCP which eliminates the need to wait for 3 way handshake before application can send data over it.">
<meta name="author" content="sanket">
<link rel="canonical" href="https://example.org/posts/2017-11-08-tcp-fast-open-python/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.e087fd1dc76e73a35ae6d7028ddc1ba41e0131e7f9b3a6e2d019a208e6d6c4b5.css" integrity="sha256-4If9Hcduc6Na5tcCjdwbpB4BMef5s6bi0BmiCObWxLU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://example.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://example.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://example.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://example.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://example.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="TCP Fast Open: In Action with Python" />
<meta property="og:description" content="Recently I was revisiting concepts of TCP protocol and that reminded me that there was also a thing called TCP Fast Open. Digging further on the same revealed a lot. We will briefly discuss how this enhancement works. What are the limitations. And later we will do the hands on and see how the TCP Fast Open drastically reduces the load time.
What is TCP Fast Open? TCP Fast Open is an optimization over TCP which eliminates the need to wait for 3 way handshake before application can send data over it." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.org/posts/2017-11-08-tcp-fast-open-python/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2017-11-08T20:14:58+00:00" />
<meta property="article:modified_time" content="2017-11-08T20:14:58+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="TCP Fast Open: In Action with Python"/>
<meta name="twitter:description" content="Recently I was revisiting concepts of TCP protocol and that reminded me that there was also a thing called TCP Fast Open. Digging further on the same revealed a lot. We will briefly discuss how this enhancement works. What are the limitations. And later we will do the hands on and see how the TCP Fast Open drastically reduces the load time.
What is TCP Fast Open? TCP Fast Open is an optimization over TCP which eliminates the need to wait for 3 way handshake before application can send data over it."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://example.org/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "TCP Fast Open: In Action with Python",
      "item": "https://example.org/posts/2017-11-08-tcp-fast-open-python/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "TCP Fast Open: In Action with Python",
  "name": "TCP Fast Open: In Action with Python",
  "description": "Recently I was revisiting concepts of TCP protocol and that reminded me that there was also a thing called TCP Fast Open. Digging further on the same revealed a lot. We will briefly discuss how this enhancement works. What are the limitations. And later we will do the hands on and see how the TCP Fast Open drastically reduces the load time.\nWhat is TCP Fast Open? TCP Fast Open is an optimization over TCP which eliminates the need to wait for 3 way handshake before application can send data over it.",
  "keywords": [
    
  ],
  "articleBody": "Recently I was revisiting concepts of TCP protocol and that reminded me that there was also a thing called TCP Fast Open. Digging further on the same revealed a lot. We will briefly discuss how this enhancement works. What are the limitations. And later we will do the hands on and see how the TCP Fast Open drastically reduces the load time.\nWhat is TCP Fast Open? TCP Fast Open is an optimization over TCP which eliminates the need to wait for 3 way handshake before application can send data over it.\nHere’s roughly how it happens: First time 3 way handshake happens, server will generate a cookie and pass it to the client. Next time, in first step on 3 way handshake (SYN), client will send cookie+data along with SYN. If cookie stands valid, data is delivered to application, then application can process data and reply. Here we do not wait for 3 way handshake to complete next time.\nHere is the traditional 3 way handshake.\nSo here, if round trip time is 100ms, application will have to wait at least 200ms before it can send any data to server.\nIf client had set TCP Fast Option set (we will see server and client code soon), server will create a cookie and send back the cookie to client, as shown in the following diagram.\nNow from next time onward, client will send cookie in SYN and if it stands valid, server can immediately send reply back without waiting for handshake to complete as shown below.\nWe can see that 3 way handshake still happens but application does not need to wait for it as data is delivered to it immediately if valid cookie is present.\nThis can potentially halve the latency depending upon the application.\nProblems: Not all the devices support it. (Although they will at some point) Some middleware (firewall,NAT) can cause problems as this is relatively new changes to an old protocol. If data that client need to send with SYN is large (\u003e ~1400 bytes), TCP Fast open does not optimize anything. Requests may get duplicated. (The first SYN packet) So applications need to handle that. In Action: We will build simple echo server with TCP Fast Open enabled and see the wireshark traces along with request time to see how fast does it get with TFO enabled.\nEcho server:\nimport socket def listen(): connection = socket.socket(socket.AF_INET, socket.SOCK_STREAM) connection.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) connection.setsockopt(socket.SOL_TCP, 23, 5) connection.bind(('0.0.0.0', 8000)) connection.listen(10) while True: current_connection, address = connection.accept() while True: data = current_connection.recv(2048) if data: current_connection.send(data) print data current_connection.close() break if __name__ == \"__main__\": try: listen() except KeyboardInterrupt: pass The only new/different we do here is the line `connection.setsockopt(socket.SOL_TCP, 23, 5)` here 23 is the protocol number of **TCP_FASTOPEN **it is not defined in socket module if python2 so writing manually here and 5 is the queue length for number of TFO request which are yet to complete 3 way handshake.\nEcho client:\nimport socket addr = (\"ssh.movienight.gq\", 8000) s = socket.socket(socket.AF_INET, socket.SOCK_STREAM) s.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1) s.setsockopt(socket.SOL_TCP, 23, 5) s.sendto(\"hello!\",536870912,addr) print s.recv(1000) Here we used `sendto` to send SYN packet along with data. second argument is protocol number for MSG_FASTOPEN. Again because of python2. Setting this will send a TFO request to server.\nTo enable TFO support in linux:\necho 3 \u003e /proc/sys/net/ipv4/tcp_fastopen number 3 will add support for both TFO client and server.\nLet’s look at network traces to see TFO working in action:\nAlso see how cookie was sent with SYN packet[46645] itself.\nHow fast was it? Let the results speak for themselves: [ okay, 270ms (TFO) vs 690ms (regular TCP) ]\nsanket@iamgroot /home/sanket/workspace/z_trivial/knetstat (0) (master)\u003e time curl ssh.movienight.gq:8000 19:59:12 GET / HTTP/1.1 Host: ssh.movienight.gq:8000 User-Agent: curl/7.56.1 Accept: */* 0.00user 0.00system 0:00.69elapsed 1%CPU (0avgtext+0avgdata 8860maxresident)k 0inputs+0outputs (0major+492minor)pagefaults 0swaps sanket@iamgroot /home/sanket/workspace/z_trivial/knetstat (0) (master)\u003e time curl ssh.movienight.gq:8000 --tcp-fastopen GET / HTTP/1.1 Host: ssh.movienight.gq:8000 User-Agent: curl/7.56.1 Accept: */* 0.00user 0.00system 0:00.27elapsed 1%CPU (0avgtext+0avgdata 8728maxresident)k 0inputs+0outputs (0major+494minor)pagefaults 0swaps Of course I did not tell the fine details. Please refer:\n[1] https://lwn.net/Articles/508865/\n[2] https://bradleyf.id.au/nix/shaving-your-rtt-wth-tfo/\nIf Websockets excites you, which is kinda long open TCP connection, speaking it’s own language, why don’t you look up to this article\n",
  "wordCount" : "693",
  "inLanguage": "en",
  "datePublished": "2017-11-08T20:14:58Z",
  "dateModified": "2017-11-08T20:14:58Z",
  "author":{
    "@type": "Person",
    "name": "sanket"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://example.org/posts/2017-11-08-tcp-fast-open-python/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Superuser",
    "logo": {
      "@type": "ImageObject",
      "url": "https://example.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://example.org/" accesskey="h" title="Superuser (Alt + H)">Superuser</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://example.org/">Home</a>&nbsp;»&nbsp;<a href="https://example.org/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      TCP Fast Open: In Action with Python
    </h1>
    <div class="post-meta"><span title='2017-11-08 20:14:58 +0000 UTC'>November 8, 2017</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;sanket

</div>
  </header> 
  <div class="post-content"><p>Recently I was revisiting concepts of TCP protocol and that reminded me that there was also a thing called TCP Fast Open. Digging further on the same revealed a lot. We will briefly discuss how this enhancement works. What are the limitations. And later we will do the hands on and see how the TCP Fast Open drastically reduces the load time.</p>
<h2 id="what-is-tcp-fast-open">What is TCP Fast Open?<a hidden class="anchor" aria-hidden="true" href="#what-is-tcp-fast-open">#</a></h2>
<p>TCP Fast Open is an optimization over TCP which eliminates the need to wait for 3 way handshake before application can send data over it.</p>
<p>Here&rsquo;s roughly how it happens: First time 3 way handshake happens, server will generate a cookie and pass it to the client. Next time, in first step on 3 way handshake (SYN), client will send cookie+data along with SYN. If cookie stands valid, data is delivered to application, then application can process data and reply. Here we do not wait for 3 way handshake to complete next time.</p>
<p>Here is the traditional 3 way handshake.</p>
<!-- raw HTML omitted -->
<p>So here, if round trip time is 100ms, application will have to wait at least 200ms before it can send any data to server.</p>
<p>If client had set TCP Fast Option set (we will see server and client code soon), server will create a cookie and send back the cookie to client, as shown in the following diagram.</p>
<!-- raw HTML omitted -->
<p>Now from next time onward, client will send cookie in SYN and if it stands valid, server can immediately send reply back without waiting for handshake to complete as shown below.</p>
<!-- raw HTML omitted -->
<p>We can see that 3 way handshake still happens but application does not need to wait for it as data is delivered to it immediately if valid cookie is present.</p>
<p>This can potentially halve the latency depending upon the application.</p>
<h2 id="problems">Problems:<a hidden class="anchor" aria-hidden="true" href="#problems">#</a></h2>
<ul>
<li>Not all the devices support it. (Although they will at some point)</li>
<li>Some middleware (firewall,NAT) can cause problems as this is relatively new changes to an old protocol.</li>
<li>If data that client need to send with SYN is large (&gt; ~1400 bytes), TCP Fast open does not optimize anything.</li>
<li>Requests may get duplicated. (The first SYN packet) So applications need to handle that.</li>
</ul>
<h2 id="in-action">In Action:<a hidden class="anchor" aria-hidden="true" href="#in-action">#</a></h2>
<p>We will build simple echo server with TCP Fast Open enabled and see the wireshark traces along with request time to see how fast does it get with TFO enabled.</p>
<p>Echo server:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> socket
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">listen</span>():
</span></span><span style="display:flex;"><span>    connection <span style="color:#f92672">=</span> socket<span style="color:#f92672">.</span>socket(socket<span style="color:#f92672">.</span>AF_INET, socket<span style="color:#f92672">.</span>SOCK_STREAM)
</span></span><span style="display:flex;"><span>    connection<span style="color:#f92672">.</span>setsockopt(socket<span style="color:#f92672">.</span>SOL_SOCKET, socket<span style="color:#f92672">.</span>SO_REUSEADDR, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    connection<span style="color:#f92672">.</span>setsockopt(socket<span style="color:#f92672">.</span>SOL_TCP, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>    connection<span style="color:#f92672">.</span>bind((<span style="color:#e6db74">&#39;0.0.0.0&#39;</span>, <span style="color:#ae81ff">8000</span>))
</span></span><span style="display:flex;"><span>    connection<span style="color:#f92672">.</span>listen(<span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        current_connection, address <span style="color:#f92672">=</span> connection<span style="color:#f92672">.</span>accept()
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>            data <span style="color:#f92672">=</span> current_connection<span style="color:#f92672">.</span>recv(<span style="color:#ae81ff">2048</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> data:
</span></span><span style="display:flex;"><span>                current_connection<span style="color:#f92672">.</span>send(data)
</span></span><span style="display:flex;"><span>                print data
</span></span><span style="display:flex;"><span>	    current_connection<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>	    <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        listen()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">KeyboardInterrupt</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p>The only new/different we do here is the line `connection.setsockopt(socket.SOL_TCP, 23, 5)` here 23 is the protocol number of **TCP_FASTOPEN **it is not defined in socket module if python2 so writing manually here and 5 is the queue length for number of TFO request which are yet to complete 3 way handshake.</p>
<p>Echo client:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> socket
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>addr <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#34;ssh.movienight.gq&#34;</span>, <span style="color:#ae81ff">8000</span>)
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> socket<span style="color:#f92672">.</span>socket(socket<span style="color:#f92672">.</span>AF_INET, socket<span style="color:#f92672">.</span>SOCK_STREAM)
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>setsockopt(socket<span style="color:#f92672">.</span>SOL_SOCKET, socket<span style="color:#f92672">.</span>SO_REUSEADDR, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>setsockopt(socket<span style="color:#f92672">.</span>SOL_TCP, <span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>sendto(<span style="color:#e6db74">&#34;hello!&#34;</span>,<span style="color:#ae81ff">536870912</span>,addr)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print s<span style="color:#f92672">.</span>recv(<span style="color:#ae81ff">1000</span>)
</span></span></code></pre></div><p>Here we used `sendto` to send SYN packet along with data. second argument is protocol number for MSG_FASTOPEN. Again because of python2. Setting this will send a TFO request to server.</p>
<p>To enable TFO support in linux:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>echo <span style="color:#ae81ff">3</span> &gt; /proc/sys/net/ipv4/tcp_fastopen
</span></span></code></pre></div><p>number 3 will add support for both TFO client and server.</p>
<p>Let&rsquo;s look at network traces to see TFO working in action:</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>Also see how cookie was sent with SYN packet[46645] itself.</p>
<!-- raw HTML omitted -->
<h2 id="how-fast-was-it">How fast was it?<a hidden class="anchor" aria-hidden="true" href="#how-fast-was-it">#</a></h2>
<p>Let the results speak for themselves: [ okay, 270ms (TFO) vs 690ms (regular TCP) ]</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sanket@iamgroot /home/sanket/workspace/z_trivial/knetstat <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>  <span style="color:#f92672">(</span>master<span style="color:#f92672">)</span>&gt; time curl ssh.movienight.gq:8000      19:59:12
</span></span><span style="display:flex;"><span>GET / HTTP/1.1
</span></span><span style="display:flex;"><span>Host: ssh.movienight.gq:8000
</span></span><span style="display:flex;"><span>User-Agent: curl/7.56.1
</span></span><span style="display:flex;"><span>Accept: */*
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>0.00user 0.00system 0:00.69elapsed 1%CPU <span style="color:#f92672">(</span>0avgtext+0avgdata 8860maxresident<span style="color:#f92672">)</span>k
</span></span><span style="display:flex;"><span>0inputs+0outputs <span style="color:#f92672">(</span>0major+492minor<span style="color:#f92672">)</span>pagefaults 0swaps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sanket@iamgroot /home/sanket/workspace/z_trivial/knetstat <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span>  <span style="color:#f92672">(</span>master<span style="color:#f92672">)</span>&gt; 
</span></span><span style="display:flex;"><span>time curl ssh.movienight.gq:8000 --tcp-fastopen
</span></span><span style="display:flex;"><span>GET / HTTP/1.1
</span></span><span style="display:flex;"><span>Host: ssh.movienight.gq:8000
</span></span><span style="display:flex;"><span>User-Agent: curl/7.56.1
</span></span><span style="display:flex;"><span>Accept: */*
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>0.00user 0.00system 0:00.27elapsed 1%CPU <span style="color:#f92672">(</span>0avgtext+0avgdata 8728maxresident<span style="color:#f92672">)</span>k
</span></span><span style="display:flex;"><span>0inputs+0outputs <span style="color:#f92672">(</span>0major+494minor<span style="color:#f92672">)</span>pagefaults 0swaps
</span></span></code></pre></div><p>Of course I did not tell the fine details. Please refer:</p>
<p>[1] <!-- raw HTML omitted --><a href="https://lwn.net/Articles/508865/">https://lwn.net/Articles/508865/</a><!-- raw HTML omitted --></p>
<p>[2] <!-- raw HTML omitted --><a href="https://bradleyf.id.au/nix/shaving-your-rtt-wth-tfo/">https://bradleyf.id.au/nix/shaving-your-rtt-wth-tfo/</a><!-- raw HTML omitted --></p>
<p>If Websockets excites you, which is kinda long open TCP connection, speaking it&rsquo;s own language, why don&rsquo;t you look up to <!-- raw HTML omitted -->this article<!-- raw HTML omitted --></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="https://example.org/">Superuser</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
